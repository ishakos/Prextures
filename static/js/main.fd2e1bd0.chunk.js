(this.webpackJsonpfantasy=this.webpackJsonpfantasy||[]).push([[0],{25:function(e,t,a){},35:function(e,t,a){e.exports=a(54)},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(30),l=a.n(s),c=a(7),o=a(3);a(41),a(42),a(43);function i(){return Object(n.useEffect)(()=>{sessionStorage.clear()},[]),r.a.createElement("div",{className:"home-page"},r.a.createElement("div",{className:"home-container"},r.a.createElement("h1",{className:"welcome-title"},"WELCOME TO PREXTURES"),r.a.createElement("h2",{className:"welcome-text"},"Make your own predictions for every PL match. Whether you\u2019re a seasoned football fan or a casual viewer. Dive into the action, and enjoy the thrill of predicting Premier League fixtures!"),r.a.createElement("button",{className:"welcome-button"},r.a.createElement(c.b,{to:"/login"},"Start Now"))))}a(25);var m=a(55);function u(){const[e,t]=Object(n.useState)(""),[a,s]=Object(n.useState)(""),[l,c]=Object(n.useState)(!1),[i,u]=Object(n.useState)(!1);let g=Object(o.p)();Object(n.useEffect)(()=>{sessionStorage.clear()},[]);return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement(d,{error1:l,error2:i,setError1:c,setError2:u,setUsername:t,setPassword:s,login:()=>{const t={username:e,password:a};m.a.post("https://prexturesserver.onrender.com/login/",t).then(e=>{e.data.error?"User Dosent Exist!"===e.data.error?c(!0):u(!0):(sessionStorage.setItem("accessToken",e.data),g("/main/player"))})}})))}function d(e){let{error1:t,error2:a,setError1:n,setError2:s,setUsername:l,setPassword:c,login:o}=e;return r.a.createElement("div",{className:"login-form"},r.a.createElement(g,{error1:t}),r.a.createElement("input",{type:"text",placeholder:"username",onSelect:()=>{n(()=>!1),s(()=>!1)},onChange:e=>{l(e.target.value)}}),r.a.createElement(p,{error2:a}),r.a.createElement("input",{type:"password",placeholder:"password",onSelect:()=>{n(()=>!1),s(()=>!1)},onChange:e=>{c(e.target.value)}}),r.a.createElement(E,{login:o}))}function g(e){let{error1:t}=e;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("span",{className:"error-username"},"User Does Not Exist"):r.a.createElement(r.a.Fragment,null))}function p(e){let{error2:t}=e;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("span",{className:"error-username"},"Wrong Password"):r.a.createElement(r.a.Fragment,null))}function E(e){let{login:t}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"message-forgot-password"},r.a.createElement(c.b,{to:"/forgotpassword"},"Forgot your password?")),r.a.createElement("button",{onClick:t},"Login"),r.a.createElement("p",{className:"message"},"Not registered?",r.a.createElement(c.b,{to:"/register",style:{display:"block"}},"Create an account")))}var f=a(18),h=a(17);function b(){const[e,t]=Object(n.useState)([]),[a,s]=Object(n.useState)(!1);Object(n.useEffect)(()=>{m.a.get("https://prexturesserver.onrender.com/users").then(e=>{t(e.data.users)})},[]);const l=h.a().shape({username:h.b().required().min(3).max(15).test({name:"unique-username",message:()=>"Username already exists",test:t=>!function(t){for(let a=0;a<e.length;a++)return e[a].username===t}(t)}).matches(/^\S*$/,"Username should not contain spaces"),email:h.b().required().email().test({name:"unique-email",message:()=>"Email already exists",test:t=>!function(t){for(let a=0;a<e.length;a++)return e[a].email===t}(t)}),password:h.b().required().min(3).max(15)});return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(N,null):r.a.createElement("div",{className:"login-page"},r.a.createElement(f.d,{initialValues:{username:"",email:"",password:""},validationSchema:l,onSubmit:e=>{m.a.post("https://prexturesserver.onrender.com/users",e).then(()=>{}),s(!0)},validateOnChange:!1,className:"login-page"},r.a.createElement(f.c,{className:"form"},r.a.createElement(v,{type:"username"}),r.a.createElement(v,{type:"email"}),r.a.createElement(v,{type:"password"}),r.a.createElement("button",{type:"submit",className:"register"},"REGISTER")))))}function v(e){let{type:t}=e;return r.a.createElement("div",{className:"login-form"},r.a.createElement(f.a,{name:t,component:"span",className:"error-"+t}),r.a.createElement(f.b,{autoComplete:"off",id:"unique-"+t,name:t,type:t,placeholder:"Put your "+t}))}function N(){return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("span",{className:"sent",style:{textAlign:"center"}},"Please verify your email"),r.a.createElement("span",{className:"sent",style:{textAlign:"center"}},"If you dont verify it your account will be deleted within 24 hours."),r.a.createElement(c.b,{style:{fontWeight:"bold"},to:"/"},"Go back home")))}function S(){const[e,t]=Object(n.useState)([]),[a,s]=Object(n.useState)(""),[l,c]=Object(n.useState)(!1),[o,i]=Object(n.useState)(!1);Object(n.useEffect)(()=>{m.a.get("https://prexturesserver.onrender.com/users").then(e=>{t(e.data.users)})},[]);return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement(O,{setError1:i,setUserEmail:s,submit:()=>{c(!1),i(!1),!function(t){for(let a=0;a<e.length;a++)if(e[a].email===t)return!0;return!1}(a)?i(!0):m.a.post("https://prexturesserver.onrender.com/login/forgot",{email:a}).then(e=>{e.data.match?c(!0):i(!1)})},setSent:c},r.a.createElement(x,{sent:l,error1:o}))))}function O(e){let{children:t,setError1:a,setUserEmail:n,submit:s,setSent:l}=e;return r.a.createElement("div",{className:"login-form"},t,r.a.createElement("input",{type:"email",placeholder:"email",onSelect:()=>{a(()=>!1),l(()=>!1)},onChange:e=>{n(e.target.value)}}),r.a.createElement(j,{submit:s}))}function x(e){let{error1:t,sent:a}=e;return r.a.createElement(r.a.Fragment,null,t?r.a.createElement("span",{className:"error-username"},"Email does not exist"):r.a.createElement(r.a.Fragment,null),a?r.a.createElement("span",{className:"sent"},"Link sent, resubmit if you dont find it"):r.a.createElement(r.a.Fragment,null))}function j(e){let{submit:t}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{onClick:t},"Submit"),r.a.createElement("p",{className:"message"},"Not registered?",r.a.createElement(c.b,{to:"/register",style:{display:"block"}},"Create an account")))}function w(){const e=window.location.href.split("/"),t=e[e.length-1],a=e[e.length-2],[s,l]=Object(n.useState)(!1),[c,o]=Object(n.useState)(!0);return Object(n.useEffect)(()=>{const e={username:a,token:t};m.a.post("https://prexturesserver.onrender.com/users/emailVerification/:username/:token",e).then(e=>{e.data.message?l(!0):l(!1),o(!1)})},[a,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"login-page"},c?r.a.createElement("div",{className:"emailVer"},r.a.createElement("h1",{className:"emailV"},"Verifying...")):r.a.createElement(r.a.Fragment,null,s?r.a.createElement("div",{className:"emailVer"},r.a.createElement("h1",{className:"emailV"},"Email Verified")):r.a.createElement("div",{className:"emailVer"},r.a.createElement("h1",{className:"emailV"},"Link Expired, Your account is automaticly deleted")))))}function y(){let e=Object(o.p)();const[t,a]=Object(n.useState)(""),[s,l]=Object(n.useState)(""),[c,i]=Object(n.useState)(!1),[u,d]=Object(n.useState)(!1),[g,p]=Object(n.useState)("");return r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},c?r.a.createElement(k,null):r.a.createElement(P,{error1:u,setError1:d,errormsg:g,setNewPass:a,setNewPass2:l,reset:()=>{d(!1),p("");let a=window.location.href.split("/");const n=a[a.length-2],r=a[a.length-1],l={password:t,password2:s,id:n,token:r};t.length<=3||s.length<=3?(d(!0),p("Password must be above 3 characters!")):t!==s?(d(!0),p("Password does not match!")):m.a.post("https://prexturesserver.onrender.com/login/reset/:id/:token",l).then(t=>{t.data.updated?i(!0):t.data.noMatch?(d(!0),p("Passwords does not match")):(alert("link expired"),e("/"))})}})))}function k(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"sent",style:{textAlign:"center"}},"Password updated succesfully"),r.a.createElement(c.b,{style:{fontWeight:"bold"},to:"/"},"Go back home"))}function P(e){let{errormsg:t,error1:a,setError1:n,setNewPass:s,setNewPass2:l,reset:c}=e;return r.a.createElement("div",{className:"login-form"},r.a.createElement(F,{error:a,errormsg:t}),r.a.createElement("input",{type:"password",placeholder:"Enter your password",onSelect:()=>{n(()=>!1)},onChange:e=>{s(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"Re-Enter your password",onSelect:()=>{n(()=>!1)},onChange:e=>{l(e.target.value)}}),r.a.createElement("button",{onClick:c},"Reset"))}function F(e){let{error1:t,errormsg:a}=e;return r.a.createElement(r.a.Fragment,null," ",t?r.a.createElement("span",{className:"error-username"},a):r.a.createElement(r.a.Fragment,null))}a(50),a(51);var I=a(6),C=a(34);const T=Object(C.a)({apiKey:"AIzaSyBnjpnUvpCYeWzf5kQf6iFER7PsZmqHkK4",authDomain:"pl-predictions-2f98f.firebaseapp.com",projectId:"pl-predictions-2f98f",storageBucket:"pl-predictions-2f98f.appspot.com",messagingSenderId:"1002066223624",appId:"1:1002066223624:web:ca71b45969aebd5bd927bd",measurementId:"G-YBKR7YB3WC"}),L=Object(I.d)(T);function U(){const[e,t]=Object(n.useState)(null),[a,s]=Object(n.useState)(sessionStorage.getItem("accessToken")),[l,c]=Object(n.useState)([]),[i,u]=Object(n.useState)([]),[d,g]=Object(n.useState)([]),[p,E]=Object(n.useState)(!0),[f,h]=Object(n.useState)(1),[b,v]=Object(n.useState)([]),[N,S]=Object(n.useState)([]),[O,x]=Object(n.useState)(Array.from({length:10},()=>({input1:"",input2:""}))),[j,w]=Object(n.useState)("Fill the slots");let y=Object(o.p)();Object(n.useEffect)(()=>{const e=sessionStorage.getItem("accessToken");e||(alert("User Not Logged In"),y("/login")),m.a.get("https://prexturesserver.onrender.com/login/auth",{headers:{accessToken:e||""}}).then(e=>{e.data.error?console.log(e.data):t(e.data)}),m.a.get("https://prexturesserver.onrender.com/scores/predictions",{headers:{accessToken:e||""}}).then(e=>{e.data.error?console.log(e.data):(v(e.data.predictions),sessionStorage.setItem("userPredictions",JSON.stringify(e.data.predictions)))})},[y]),Object(n.useEffect)(()=>{const e=e=>{e.storageArea===sessionStorage&&"accessToken"===e.key&&null===e.newValue&&(s(null),alert("User Not Logged In"),y("/login"))};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[a,y]),Object(n.useEffect)(()=>{m.a.get("https://prexturesserver.onrender.com/scores/teams").then(e=>{e.data.teams&&u(e.data.teams)}),m.a.get("https://prexturesserver.onrender.com/scores/fixtures").then(e=>{e.data.fixtures&&c(e.data.fixtures)})},[]),Object(n.useEffect)(()=>{(async()=>{let e=[];if(0===i.length)return;const t=Object(I.f)(L,"teams/"),a=(await Object(I.e)(t)).items.map(e=>Object(I.b)(e));(await Promise.all(a)).forEach((t,a)=>{if(!e.includes(t)&&a<=19){var n,r;const s={name:null===(n=i[a])||void 0===n?void 0:n.name,shortname:null===(r=i[a])||void 0===r?void 0:r.shortname,image:t};e.push(s)}}),g(e)})()},[i]),Object(n.useEffect)(()=>{const e=[],t=(new Date).toISOString();if(38===l.length&&20===i.length&&20===d.length&&38===b.length){for(let a=0;a<l.length;a++)t<l[a].deadline?e.push(!0):e.push(!1);S(e),38===e.length&&E(!1)}},[l,i,d,b]),Object(n.useEffect)(()=>{let e=Array.from({length:10},()=>({input1:"",input2:""}));if(!p){if(sessionStorage.getItem("userPredictions")){const n=JSON.parse(sessionStorage.getItem("userPredictions"));for(let r=0;r<e.length;r++){var t,a;if("-"===(null===(t=n[f-1])||void 0===t?void 0:t.fixturePrediction[r])||0===(null===(a=n[f-1])||void 0===a?void 0:a.fixturePrediction.length)){e=Array.from({length:10},()=>({input1:"",input2:""}));break}e[r].input1=n[f-1].fixturePrediction[r].split("-")[0],e[r].input2=n[f-1].fixturePrediction[r].split("-")[1]}}x(e)}},[f,p]);return r.a.createElement(r.a.Fragment,null,e?r.a.createElement(r.a.Fragment,null,p?r.a.createElement("p",null,"fixtures loading..."):r.a.createElement("section",{className:"player"},r.a.createElement(A,null,r.a.createElement(R,{decrement:()=>{f>1&&(h(e=>e-1),w("Fill the slots"))},increment:()=>{f<38&&(h(e=>e+1),w("Fill the slots"))},setlectedFixture:f,fixtures:l},r.a.createElement(D,{fixtures:l,setlectedFixture:f})),r.a.createElement(V,{fixtures:l,setlectedFixture:f,teams:d,deadlines:N,inputs:O,handleInputChange:(e,t,a)=>{if(/^\d{0,2}$/.test(a)){const n=[...O];n[e]={...n[e],[t]:a},x(n)}}})),r.a.createElement(M,{onUpdate:()=>{let e=[];for(let r=0;r<O.length;r++){if(!O[r].input1||!O[r].input2||isNaN(O[r].input1)||isNaN(O[r].input2)||""===O[r].input1||""===O[r].input2){e=["-","-","-","-","-","-","-","-","-","-"];break}{let t=O[r].input1,a=O[r].input2;"0"===t[0]&&t.length>1&&(t=t[1]),"0"===a[0]&&a.length>1&&(a=a[1]),e.push(`${t}-${a}`)}}(function(e){for(let a=0;a<e.length;a++)if(t=e[a],!/^\d{1,2}-\d{1,2}$/.test(t))return!1;var t;return!0})(e)||w("invalid predictions, please enter proper digits");const t=sessionStorage.getItem("accessToken");t||(alert("User Not Logged In"),y("/login"));const a={number:f,newPrediction:e},n={headers:{accessToken:t||""}};m.a.post("https://prexturesserver.onrender.com/scores/predictions",a,n).then(e=>{if(e.data.error)w(e.data.error);else{const e=JSON.parse(sessionStorage.getItem("userPredictions"));let t=[];for(let a=0;a<O.length;a++){if("-"===O[a].input1||"-"===O[a].input2){t=["-","-","-","-","-","-","-","-","-","-",w("invalid predictions, please enter proper digits")];break}t.push(`${O[a].input1}-${O[a].input2}`)}e[f-1].fixturePrediction=t,sessionStorage.setItem("userPredictions",JSON.stringify(e)),t.includes("-")||w("Updated")}})}}),r.a.createElement($,{error:j,user:e}))):r.a.createElement("div",null,"Loading..."))}function A(e){let{children:t}=e;return r.a.createElement("div",{className:"fixTable"},t)}function R(e){let{decrement:t,increment:a,children:n}=e;return r.a.createElement("header",null,r.a.createElement("button",{className:"move",onClick:t},"Prev"),n,r.a.createElement("button",{className:"move",onClick:a},"Next"))}function D(e){let{fixtures:t,setlectedFixture:a}=e;return r.a.createElement("p",null,r.a.createElement("span",null,"Gameweek ",a," : ")," "+new Date(t[a-1].deadline).toLocaleString())}function V(e){let{fixtures:t,setlectedFixture:a,teams:n,deadlines:s,inputs:l,handleInputChange:c}=e;return r.a.createElement("div",{className:"footerP1"},t[a-1].matches.map((e,o)=>r.a.createElement(q,{key:e.numM},r.a.createElement(W,{teams:n,match:e,ground:"home"}),r.a.createElement(z,null,s[a-1]?r.a.createElement(H,{inputs:l,index:o,handleInputChange:c}):r.a.createElement(B,{fixtures:t,setlectedFixture:a,index:o})),r.a.createElement(W,{teams:n,match:e,ground:"away"}))))}function M(e){let{onUpdate:t}=e;return r.a.createElement("div",{className:"save-button"},r.a.createElement("button",{className:"move",onClick:t},"save"))}function $(e){let{error:t,user:a}=e;return r.a.createElement("div",{className:"welcome"},r.a.createElement("p",null,"Fill everything then save - ",a.username),r.a.createElement("p",null,t))}function q(e){let{children:t}=e;return r.a.createElement("div",{className:"match"},t)}function W(e){let{teams:t,match:a,ground:n}=e;return r.a.createElement(r.a.Fragment,null,t.map(e=>e.shortname===a[""+n]?r.a.createElement("aside",{className:"team",key:0},"home"===n?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,e.name),r.a.createElement("img",{src:e.image,alt:e.name})):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:e.image,alt:e.name}),r.a.createElement("p",null,e.name))):null))}function H(e){let{inputs:t,index:a,handleInputChange:n}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{className:"num",type:"text",value:t[a].input1,onChange:e=>n(a,"input1",e.target.value)}),r.a.createElement("label",null," - "),r.a.createElement("input",{className:"num",type:"text",value:t[a].input2,onChange:e=>n(a,"input2",e.target.value)}))}function B(e){let{fixtures:t,setlectedFixture:a,index:n}=e;return r.a.createElement("p",{style:{color:"black",letterSpacing:"8px",fontSize:"22px"}},t[a-1].fullTime[n])}function z(e){let{children:t}=e;return r.a.createElement("div",{className:"score"},t)}a(52);function G(){const[e,t]=Object(n.useState)(null),[a,s]=Object(n.useState)(sessionStorage.getItem("accessToken")),[l,c]=Object(n.useState)(""),[i,u]=Object(n.useState)(""),[d,g]=Object(n.useState)(null),[p,E]=Object(n.useState)("defaults/png"),[f,h]=Object(n.useState)(!1),[b,v]=Object(n.useState)(!1),[N,S]=Object(n.useState)("");let O=Object(o.p)();Object(n.useEffect)(()=>{const e=sessionStorage.getItem("accessToken");e||(alert("User Not Logged In"),O("/login")),m.a.get("https://prexturesserver.onrender.com/login/auth",{headers:{accessToken:e||""}}).then(e=>{e.data.error?S(e.data.error):t(e.data)})},[O]),Object(n.useEffect)(()=>{const e=e=>{e.storageArea===sessionStorage&&"accessToken"===e.key&&null===e.newValue&&(s(null),alert("User Not Logged In"),O("/login"))};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[a,O]),Object(n.useEffect)(()=>{let t;t=e?e.image:"defaults/png";const a=t.split("/")[0],n=Object(I.f)(L,a+"/");Object(I.e)(n).then(e=>{e.items.forEach(e=>{e.fullPath!==a+"/pfp"||Object(I.b)(e).then(e=>{"defaults"!==a&&h(!0),E(e)})})})},[e,p]),Object(n.useEffect)(()=>{S("")},[l,i]);const x=()=>{const t=Object(I.f)(L,`/${e._id}/pfp`);Object(I.c)(t).then(()=>{Object(I.a)(t),h(!1),S("Image deleted")}).catch(e=>{"storage/object-not-found"===e.code?S("File does not exist"):S("Error checking file existence",e)});const a=Object(I.f)(L,"defaults/");Object(I.e)(a).then(e=>{e.items.forEach(e=>{"defaults/pfp"!==e.fullPath||Object(I.b)(e).then(e=>{E(e)})})})};return r.a.createElement(r.a.Fragment,null,e?r.a.createElement("div",{className:"settings"},r.a.createElement("div",{className:"container"},r.a.createElement(J,null,r.a.createElement(K,{user:e}),r.a.createElement(_,{setNewPass:c,setNewPass2:u,reset:()=>{const e={password:l,password2:i},t={headers:{accessToken:sessionStorage.getItem("accessToken")||""}};l.length<=3||i.length<=3?S("password must be above 3 characters"):l!==i?S("Passwords dosent match!"):m.a.post("https://prexturesserver.onrender.com/profile/resetpassword",e,t).then(e=>{e.data.error?S(e.data.error):e.data.noMatch?S(e.data.noMatch):S("Password updated!")})}}),r.a.createElement("div",{className:"deleteButton"},r.a.createElement(Q,{setDelete:v,delet:b,deleteAcc:()=>{m.a.post("https://prexturesserver.onrender.com/profile/deleteacc",{},{headers:{accessToken:sessionStorage.getItem("accessToken")||""}}).then(e=>{e.data.error?S(e.data.error):(alert("Account deleted"),O("/"))}),x()}})),";"),r.a.createElement(Y,null,r.a.createElement(X,{imageUrl:p}),r.a.createElement(Z,{pfp:f,imageUpload:d,setImageUpload:g,uploadFile:()=>{if(S(""),null==e||null==d)return;const t=e._id+"/pfp",a=Object(I.f)(L,t);Object(I.g)(a,d).then(e=>{Object(I.b)(e.ref).then(e=>{E(e),h(!0);const a={headers:{accessToken:sessionStorage.getItem("accessToken")||""}},n={path:t};m.a.post("https://prexturesserver.onrender.com/profile/pfp",n,a).then(()=>{})})})},deleteImage:x}))),r.a.createElement(ae,{error:N})):r.a.createElement("p",null,"Fetching data..."))}function J(e){let{children:t}=e;return r.a.createElement("div",{className:"user-infos"},t)}function Y(e){let{children:t}=e;return r.a.createElement("div",{className:"pfp"},t)}function K(e){let{user:t}=e;return r.a.createElement("div",{className:"user-data"},r.a.createElement("p",null,"Username : ",r.a.createElement("span",null,t.username)),r.a.createElement("p",null,"Email :"," ",r.a.createElement("span",null," ",`${t.email.split("@")[0][0]}${t.email.split("@")[0][1]}*****@${t.email.split("@")[1]}`)))}function _(e){let{setNewPass:t,setNewPass2:a,reset:n}=e;return r.a.createElement("div",{className:"resetPassword"},r.a.createElement("input",{type:"password",placeholder:"enter your new password",required:!0,minLength:"3",onChange:e=>{t(e.target.value)}}),r.a.createElement("input",{type:"password",placeholder:"re-enter your new password",required:!0,minLength:"3",onChange:e=>{a(e.target.value)}}),r.a.createElement("button",{className:"button-14",type:"submit",onClick:n},"Reset Password"))}function Q(e){let{setDelete:t,delet:a,deleteAcc:n}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button-24",onClick:()=>t(e=>!e)},"Delete Account?"),a?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"button-14",onClick:()=>t(e=>!e)},"no"),r.a.createElement("button",{className:"button-14",type:"submit",onClick:n},"yes")):r.a.createElement(r.a.Fragment,null))}function X(e){let{imageUrl:t}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Change your profile picture"),"defaults/png"===t?r.a.createElement("p",null,"image loading..."):r.a.createElement("div",{className:"dembele",style:{backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",width:"60px",height:"60px",borderRadius:"100%"}})))}function Z(e){let{pfp:t,imageUpload:a,setImageUpload:n,uploadFile:s,deleteImage:l}=e;return r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"file",onChange:e=>{n(e.target.files[0])}}),a?r.a.createElement(ee,{uploadFile:s}):r.a.createElement(r.a.Fragment,null),t?r.a.createElement(te,{deleteImage:l}):r.a.createElement(r.a.Fragment,null))}function ee(e){let{uploadFile:t}=e;return r.a.createElement("button",{className:"button-25",onClick:t},"Save Image")}function te(e){let{deleteImage:t}=e;return r.a.createElement("button",{className:"button-24",onClick:t},"Delete image")}function ae(e){let{error:t}=e;return r.a.createElement("p",{className:"unexpected",style:{textAlign:"center",fontWeight:"500",fontSize:"18px"}},t)}a(53);function ne(){const[e,t]=Object(n.useState)(sessionStorage.getItem("accessToken")),[a,s]=Object(n.useState)([]),[l,c]=Object(n.useState)([]),[i,u]=Object(n.useState)([]),[d,g]=Object(n.useState)([]),[p,E]=Object(n.useState)(!0),[f,h]=Object(n.useState)([]),[b,v]=Object(n.useState)(!0);let N=Object(o.p)();return Object(n.useEffect)(()=>{const e=sessionStorage.getItem("accessToken");e||(alert("User Not Logged In"),N("/login")),m.a.get("https://prexturesserver.onrender.com/scores/predictions",{headers:{accessToken:e||""}}).then(e=>{e.data.error?console.log(e.data):g(e.data.predictions)})},[N]),Object(n.useEffect)(()=>{const e=e=>{e.storageArea===sessionStorage&&"accessToken"===e.key&&null===e.newValue&&(t(null),alert("User Not Logged In"),N("/login"))};return window.addEventListener("storage",e),()=>{window.removeEventListener("storage",e)}},[e,N]),Object(n.useEffect)(()=>{m.a.get("https://prexturesserver.onrender.com/scores/teams").then(e=>{e.data.teams&&c(e.data.teams)}),m.a.get("https://prexturesserver.onrender.com/scores/fixtures").then(e=>{e.data.fixtures&&s(e.data.fixtures)})},[]),Object(n.useEffect)(()=>{(async()=>{let e=[];if(20!==l.length)return;const t=Object(I.f)(L,"teams/"),a=(await Object(I.e)(t)).items.map(e=>Object(I.b)(e));(await Promise.all(a)).forEach((t,a)=>{if(!e.includes(t)&&a<=19){var n,r;const s={name:null===(n=l[a])||void 0===n?void 0:n.name,shortname:null===(r=l[a])||void 0===r?void 0:r.shortname,image:t};e.push(s)}}),u(e)})()},[l]),Object(n.useEffect)(()=>{const e=[];if(38===a.length&&20===i.length&&38===d.length&&20===l.length){for(let t=0;t<a.length;t++){let n=[];for(let e=0;e<a[t].fullTime.length;e++)"-"===a[t].fullTime[e]?n.push("#162e58"):a[t].fullTime[e]!==d[t].fixturePrediction[e]?n.push("#ad0000"):n.push("green");e.push(n)}h(e),v(!1)}},[a,i,d,l]),r.a.createElement(r.a.Fragment,null,b?r.a.createElement("p",null,"DATA LOADING, PLEASE WAIT..."):r.a.createElement("div",{className:"predictions"},r.a.createElement(re,{setScoreSwitch:E}),r.a.createElement(se,{fixtures:a,teams:i,scoreSwitch:p,colors:f,userPredictions:d})))}function re(e){let{setScoreSwitch:t}=e;return r.a.createElement("div",{className:"switch"},r.a.createElement("button",{className:"button-34",onClick:()=>{t(!0)}},"YOUR PREDICTION"),r.a.createElement("button",{className:"button-34",onClick:()=>{t(!1)}},"FULL-TIME"))}function se(e){let{fixtures:t,teams:a,scoreSwitch:n,colors:s,userPredictions:l}=e;return r.a.createElement("section",{className:"pre-table"},t.map((e,t)=>r.a.createElement("div",{className:"round",key:e.number},e.matches.map((c,o)=>r.a.createElement(ie,{key:c.numM},r.a.createElement(le,{ground:"home",letter:"H",teams:a,match:c}),n?r.a.createElement(oe,{colors:s,indexF:t,indexM:o,userPredictions:l}):r.a.createElement(ce,{fixture:e,indexM:o}),r.a.createElement(le,{ground:"away",letter:"A",teams:a,match:c}))))))}function le(e){let{ground:t,letter:a,teams:n,match:s}=e;return r.a.createElement(r.a.Fragment,null,n.map(e=>e.shortname===s[""+t]?r.a.createElement("div",{className:a,key:1},r.a.createElement("img",{src:e.image,alt:e.name})):null))}function ce(e){let{fixture:t,indexM:a}=e;return r.a.createElement("p",{className:"result",style:{backgroundColor:"#d45900"}},t.fullTime[a])}function oe(e){let{colors:t,indexF:a,indexM:n,userPredictions:s}=e;return r.a.createElement("p",{className:"result",style:{backgroundColor:""+t[a][n]}},s[a].fixturePrediction[n])}function ie(e){let{children:t}=e;return r.a.createElement("div",{className:"match"},t)}const me=[{id:1,name:"Player",location:"player",actv:"active"},{id:2,name:"Scores",location:"scores",actv:""},{id:3,name:"Settings",location:"settings",actv:""}];function ue(){const[e,t]=Object(n.useState)(1),[a,s]=Object(n.useState)(!1),[l,i]=Object(n.useState)("defaults/png"),[u,d]=Object(n.useState)(null);let g=Object(o.p)();return Object(n.useEffect)(()=>{window.scrollTo({top:0,left:0,behavior:"smooth"})},[e]),Object(n.useEffect)((function(){if(e){switch(e){case 1:document.title="Player";break;case 2:document.title="Scores";break;case 3:document.title="Settings";break;default:return}return function(){document.title="Player"}}}),[e]),Object(n.useEffect)(()=>{const e=sessionStorage.getItem("accessToken");e||(alert("User Not Logged In"),g("/login")),m.a.get("https://prexturesserver.onrender.com/login/auth",{headers:{accessToken:e||""}}).then(e=>{e.data.error?console.log(e.data):d(e.data.image)})},[g]),Object(n.useEffect)(()=>{let e;e=u||"defaults/png";const t=e.split("/")[0],a=Object(I.f)(L,t+"/");Object(I.e)(a).then(e=>{e.items.forEach(e=>{e.fullPath!==t+"/pfp"||Object(I.b)(e).then(e=>{i(e)})})})},[u,l]),r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(de,{imageUrl:l}),r.a.createElement(pe,{onSelectedPage:function(e){t(e)},head:a,setHead:s,headerItems:me,imageUrl:l}),r.a.createElement(c.b,{to:"/login",className:"login"},"Logout"),r.a.createElement(ge,{head:a,setHead:s})),r.a.createElement(o.a,null))}function de(e){let{imageUrl:t}=e;return r.a.createElement("div",{className:"logo",style:{backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"50% 50%",width:"60px",height:"60px",borderRadius:"100%"}}," ","defaults/png"===t?r.a.createElement("p",null,"image loading..."):r.a.createElement(r.a.Fragment,null))}function ge(e){let{head:t,setHead:a}=e;return r.a.createElement("span",{onClick:()=>a(!t)},t?r.a.createElement("i",{className:"fa-solid fa-xmark"}):r.a.createElement("i",{className:"fa-solid fa-bars"}))}function pe(e){let{onSelectedPage:t,head:a,setHead:n,headerItems:s,imageUrl:l}=e;return r.a.createElement("ul",{className:"computer",style:{bottom:a?"calc(-200% - 20px)":"calc(-100% + 1000px)"}},null===s||void 0===s?void 0:s.map(e=>r.a.createElement(fe,{name:e.name,location:e.location,actv:e.actv,key:e.id,item:e,onSelectedPage:t,setHead:n,headerItems:s})),r.a.createElement(Ee,null))}function Ee(){return r.a.createElement("li",{className:"specialLiLogin"},r.a.createElement(c.b,{style:{display:"block",textAlign:"start"},to:"/login",className:"login-yo"},"Logout"))}function fe(e){let{name:t,location:a,actv:n,item:s,onSelectedPage:l,setHead:o,headerItems:i}=e;return r.a.createElement("li",{className:n},r.a.createElement(c.b,{onClick:()=>{for(let e=0;i.length&&e!==i.length;++e)i[e].actv="";i[s.id-1].actv="active",l(s.id),o(!1)},style:{display:"block",textAlign:"start"},to:""+a},""+t))}var he=function(){return r.a.createElement(c.a,{basename:"/Prextures"},r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",exact:!0,element:r.a.createElement(i,null)}),r.a.createElement(o.b,{path:"/login",exact:!0,element:r.a.createElement(u,null)}),r.a.createElement(o.b,{path:"/register",exact:!0,element:r.a.createElement(b,null)}),r.a.createElement(o.b,{path:"/forgotpassword",exact:!0,element:r.a.createElement(S,null)}),r.a.createElement(o.b,{path:"/login/reset/:id/:token",exact:!0,element:r.a.createElement(y,null)}),r.a.createElement(o.b,{path:"/emailVerification/:username/:token",exact:!0,element:r.a.createElement(w,null)}),r.a.createElement(o.b,{path:"/main",element:r.a.createElement(ue,null)},r.a.createElement(o.b,{path:"player",exact:!0,element:r.a.createElement(U,null)}),r.a.createElement(o.b,{path:"scores",exact:!0,element:r.a.createElement(ne,null)}),r.a.createElement(o.b,{path:"settings",exact:!0,element:r.a.createElement(G,null)})),r.a.createElement(o.b,{path:"*",exact:!0,element:r.a.createElement(r.a.Fragment,null," Page Not Found ")})))};var be=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,56)).then(t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:s,getTTFB:l}=t;a(e),n(e),r(e),s(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,{basename:"/Prextures"},r.a.createElement(he,null))),be()}},[[35,1,2]]]);
//# sourceMappingURL=main.fd2e1bd0.chunk.js.map